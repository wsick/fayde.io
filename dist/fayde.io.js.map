{"version":3,"sources":["_version.ts","FileControl.ts","upload/Uploader.ts","FileUploadControl.ts","FileUploadItem.ts","FilesChangedEventArgs.ts","SizeConverter.ts","upload/FailedEventArgs.ts","upload/ProgressedEventArgs.ts"],"names":["Fayde","Fayde.IO","Fayde.IO.FileControl","Fayde.IO.FileControl.constructor","Fayde.IO.FileControl.OnApplyTemplate","Fayde.IO.FileControl.OnIsMultipleChanged","Fayde.IO.FileControl.OnFilterChanged","Fayde.IO.FileControl.Open","Fayde.IO.FileControl.OnFilesChanged","Fayde.IO.createFileInput","Fayde.IO.UploadReporting","Fayde.IO.Uploader","Fayde.IO.Uploader.constructor","Fayde.IO.Uploader.Reporting","Fayde.IO.Uploader.Upload","Fayde.IO.FileUploadControl","Fayde.IO.FileUploadControl.constructor","Fayde.IO.FileUploadControl.OnUploaderTypeChanged","Fayde.IO.FileUploadControl.CreateUploader","Fayde.IO.FileUploadControl.OnApplyTemplate","Fayde.IO.FileUploadControl._OnFilesChanged","Fayde.IO.FileUploadControl._OnStart","Fayde.IO.FileUploadItem","Fayde.IO.FileUploadItem.constructor","Fayde.IO.FileUploadItem.Size","Fayde.IO.FileUploadItem.Name","Fayde.IO.FileUploadItem.Type","Fayde.IO.FileUploadItem.Upload","Fayde.IO.FileUploadItem._OnCancelled","Fayde.IO.FileUploadItem._OnCompleted","Fayde.IO.FileUploadItem._OnProgressed","Fayde.IO.FileUploadItem._OnFailed","Fayde.IO.FilesChangedEventArgs","Fayde.IO.FilesChangedEventArgs.constructor","Fayde.IO.round","Fayde.IO.SizeConverter","Fayde.IO.SizeConverter.constructor","Fayde.IO.SizeConverter.Convert","Fayde.IO.SizeConverter.ConvertBack","Fayde.IO.FailedEventArgs","Fayde.IO.FailedEventArgs.constructor","Fayde.IO.ProgressedEventArgs","Fayde.IO.ProgressedEventArgs.constructor"],"mappings":"AAAA,IAAO,KAAK,CAEX;AAFD,WAAO,KAAK;IAACA,IAAAA,EAAEA,CAEdA;IAFYA,WAAAA,EAAEA,EAACA,CAACA;QACFC,UAAOA,GAAGA,OAAOA,CAACA;IACjCA,CAACA,EAFYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QAEdA;AAADA,CAACA,EAFM,KAAK,KAAL,KAAK,QAEX;;;;;;;ACFD,IAAO,KAAK,CAgFX;AAhFD,WAAO,KAAK;IAACA,IAAAA,EAAEA,CAgFdA;IAhFYA,WAAAA,EAAEA,EAACA,CAACA;QACbC,IAAOA,cAAcA,GAAGA,KAAKA,CAACA,QAAQA,CAACA,cAAcA,CAACA;QACtDA,IAAOA,oBAAoBA,GAAGA,KAAKA,CAACA,WAAWA,CAACA,oBAAoBA,CAACA;QACrEA,IAAOA,UAAUA,GAAGA,KAAKA,CAACA,QAAQA,CAACA,UAAUA,CAACA,UAAUA,CAACA;QAEzDA;YAAiCC,+BAAcA;YAa3CA;gBACIC,iBAAOA,CAACA;gBANZA,iBAAYA,GAAGA,IAAIA,SAASA,CAACA,KAAKA,EAAyBA,CAACA;gBAEpDA,aAAQA,GAAqBA,IAAIA,CAACA;gBAClCA,YAAOA,GAAeA,IAAIA,CAACA;gBAI/BA,IAAIA,CAACA,eAAeA,GAAGA,WAAWA,CAACA;gBACnCA,IAAIA,CAACA,eAAeA,CAACA,WAAWA,CAACA,aAAaA,EAAEA,IAAIA,oBAAoBA,EAAEA,CAACA,CAACA;YAChFA,CAACA;YAEDD,qCAAeA,GAAfA;gBACIE,gBAAKA,CAACA,eAAeA,WAAEA,CAACA;gBACxBA,IAAIA,CAACA,OAAOA,GAAeA,IAAIA,CAACA,gBAAgBA,CAACA,cAAcA,EAAEA,UAAUA,CAACA,CAACA;gBAC7EA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;oBACbA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,EAAEA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;YAC/CA,CAACA;YAEDF,yCAAmBA,GAAnBA,UAAoBA,QAAiBA,EAAEA,QAAiBA;gBACpDG,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,QAAQA,CAACA;gBACvBA,EAAEA,CAACA,CAACA,EAAEA,CAACA;oBACHA,EAAEA,CAACA,QAAQA,GAAGA,QAAQA,KAAKA,IAAIA,CAACA;YACxCA,CAACA;YAEDH,qCAAeA,GAAfA,UAAgBA,QAAgBA,EAAEA,QAAgBA;gBAC9CI,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,QAAQA,CAACA;gBACvBA,EAAEA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;oBACLA,EAAEA,CAACA,MAAMA,GAAGA,QAAQA,IAAIA,SAASA,CAACA;gBACtCA,CAACA;YACLA,CAACA;YAEDJ,0BAAIA,GAAJA;gBACIK,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,QAAQA,CAACA;gBACvBA,EAAEA,CAACA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;oBACNA,EAAEA,GAAGA,IAAIA,CAACA,QAAQA,GAAGA,eAAeA,CAACA,IAAIA,CAACA,UAAUA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,CAACA;oBACnEA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;oBACjBA,EAAEA,CAACA,gBAAgBA,CAACA,QAAQA,EAAEA;wBAC1B,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACrC,CAAC,EAAEA,KAAKA,CAACA,CAACA;gBACdA,CAACA;gBACDA,EAAEA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;gBAChBA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;YACfA,CAACA;YAESL,oCAAcA,GAAxBA,UAAyBA,KAAeA;gBACpCM,IAAIA,EAAEA,GAAWA,EAAEA,CAACA;gBACpBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBACpCA,EAAEA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACtBA,CAACA;gBACDA,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,EAAEA,CAACA;gBAC/BA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;gBACnBA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBACxBA,IAAIA,CAACA,YAAYA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,IAAIA,wBAAqBA,CAACA,GAAGA,EAAEA,EAAEA,CAACA,CAACA,CAACA;YACtEA,CAACA;YA5DMN,8BAAkBA,GAAGA,kBAAkBA,CAACA,QAAQA,CAACA,YAAYA,EAAEA,cAAMA,OAAAA,OAAOA,EAAPA,CAAOA,EAAEA,WAAWA,EAAEA,KAAKA,EAAEA,UAACA,CAAcA,EAAEA,IAAIA,IAAKA,OAAAA,CAACA,CAACA,mBAAmBA,CAACA,IAAIA,CAACA,QAAQA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,EAAnDA,CAAmDA,CAACA,CAACA;YACjLA,0BAAcA,GAAGA,kBAAkBA,CAACA,QAAQA,CAACA,QAAQA,EAAEA,cAAMA,OAAAA,MAAMA,EAANA,CAAMA,EAAEA,WAAWA,EAAEA,SAASA,EAAEA,UAACA,CAAcA,EAAEA,IAAIA,IAAKA,OAAAA,CAACA,CAACA,eAAeA,CAACA,IAAIA,CAACA,QAAQA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,EAA/CA,CAA+CA,CAACA,CAACA;YACxKA,yBAAaA,GAAGA,kBAAkBA,CAACA,gBAAgBA,CAACA,OAAOA,EAAEA,cAAMA,OAAAA,oBAAoBA,EAApBA,CAAoBA,EAAEA,WAAWA,CAACA,CAACA;YA2DjHA,kBAACA;QAADA,CA9DAD,AA8DCC,EA9DgCD,cAAcA,EA8D9CA;QA9DYA,cAAWA,cA8DvBA,CAAAA;QACDA,KAAKA,CAACA,QAAQA,CAACA,aAAaA,CAACA,WAAWA,EACpCA,EAACA,IAAIA,EAAEA,cAAcA,EAAEA,IAAIA,EAAEA,UAAUA,EAACA,CAACA,CAACA;QAE9CA,yBAAyBA,UAAmBA,EAAEA,MAAcA;YACxDQ,IAAIA,EAAEA,GAAGA,QAAQA,CAACA,aAAaA,CAACA,OAAOA,CAACA,CAACA;YACzCA,EAAEA,CAACA,IAAIA,GAAGA,MAAMA,CAACA;YACjBA,EAAEA,CAACA,QAAQA,GAAGA,UAAUA,KAAKA,IAAIA,CAACA;YAClCA,EAAEA,CAACA,MAAMA,GAAGA,MAAMA,IAAIA,SAASA,CAACA;YAChCA,EAAEA,CAACA,KAAKA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;YACzBA,QAAQA,CAACA,IAAIA,CAACA,WAAWA,CAACA,EAAEA,CAACA,CAACA;YAC9BA,MAAMA,CAACA,EAAEA,CAACA;QACdA,CAACA;IACLR,CAACA,EAhFYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QAgFdA;AAADA,CAACA,EAhFM,KAAK,KAAL,KAAK,QAgFX;AChFD,IAAO,KAAK,CAqEX;AArED,WAAO,KAAK;IAACA,IAAAA,EAAEA,CAqEdA;IArEYA,WAAAA,EAAEA,EAACA,CAACA;QACbC,WAAYA,eAAeA;YACvBS,6DAAYA,CAAAA;YACZA,6DAAYA,CAAAA;YACZA,yDAAUA,CAAAA;YACVA,+DAAaA,CAAAA;QACjBA,CAACA,EALWT,kBAAeA,KAAfA,kBAAeA,QAK1BA;QALDA,IAAYA,eAAeA,GAAfA,kBAKXA,CAAAA;QAUUA,aAAUA,GAAGA,IAAIA,SAASA,CAACA,SAASA,CAAYA,WAAWA,CAACA,CAACA;QACxEA,aAAUA,CAACA,EAAEA,GAAGA,UAAUA,CAAMA;YAC5B,MAAM,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,UAAU,CAAC;QAC/C,CAAC,CAACA;QAEFA;YAAAU;gBAAAC,iBA+CCA;gBA1CGA,eAAUA,GAAGA,IAAIA,SAASA,CAACA,KAAKA,EAAuBA,CAACA;gBACxDA,cAASA,GAAGA,IAAIA,SAASA,CAACA,KAAKA,EAAOA,CAACA;gBACvCA,WAAMA,GAAGA,IAAIA,SAASA,CAACA,KAAKA,EAAmBA,CAACA;gBAChDA,cAASA,GAAGA,IAAIA,SAASA,CAACA,KAAKA,EAAOA,CAACA;gBAE/BA,YAAOA,GAAmBA,IAAIA,CAACA;gBAsB/BA,sBAAiBA,GAAGA,UAACA,EAASA;oBAClCA,KAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,KAAIA,EAAEA,EAAEA,CAACA,CAACA;gBACnCA,CAACA,CAACA;gBAEMA,sBAAiBA,GAAGA,UAACA,EAAiBA;oBAC1CA,KAAIA,CAACA,UAAUA,CAACA,KAAKA,CAACA,KAAIA,EAAEA,IAAIA,sBAAmBA,CAACA,EAAEA,CAACA,MAAMA,EAAEA,EAAEA,CAACA,KAAKA,CAACA,CAACA,CAACA;gBAC9EA,CAACA,CAACA;gBAEMA,qBAAgBA,GAAGA,UAACA,EAAcA;oBACtCA,KAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,KAAIA,EAAEA,IAAIA,kBAAeA,CAACA,EAAEA,CAACA,CAACA,CAACA;gBACrDA,CAACA,CAACA;gBAEMA,qBAAgBA,GAAGA,UAACA,EAAWA;oBACnCA,KAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,KAAIA,EAAEA,EAAEA,CAACA,CAACA;gBACnCA,CAACA,CAACA;YACNA,CAACA;YA9CGD,sBAAIA,+BAASA;qBAAbA;oBACIE,MAAMA,CAACA,eAAeA,CAACA,QAAQA,GAAGA,eAAeA,CAACA,QAAQA,GAAGA,eAAeA,CAACA,MAAMA,GAAGA,eAAeA,CAACA,SAASA,CAACA;gBACpHA,CAACA;;;eAAAF;YASDA,yBAAMA,GAANA,UAAOA,GAAWA,EAAEA,IAASA,EAAEA,QAAgBA,EAAEA,QAAgBA;gBAC7DG,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;oBACbA,MAAMA,IAAIA,KAAKA,CAACA,gCAAgCA,CAACA,CAACA;gBACtDA,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,cAAcA,EAAEA,CAACA;gBAC9CA,GAAGA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,GAAGA,EAAEA,IAAIA,CAACA,CAACA;gBAC5BA,GAAGA,CAACA,gBAAgBA,CAACA,aAAaA,EAAEA,QAAQA,CAACA,CAACA;gBAC9CA,GAAGA,CAACA,gBAAgBA,CAACA,aAAaA,EAAEA,QAAQA,CAACA,CAACA;gBAE9CA,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,CAACA,CAACA,CAACA;oBACbA,GAAGA,CAACA,MAAMA,CAACA,gBAAgBA,CAACA,MAAMA,EAAEA,IAAIA,CAACA,iBAAiBA,EAAEA,KAAKA,CAACA,CAACA;oBACnEA,GAAGA,CAACA,MAAMA,CAACA,gBAAgBA,CAACA,UAAUA,EAAEA,IAAIA,CAACA,iBAAiBA,EAAEA,KAAKA,CAACA,CAACA;oBACvEA,GAAGA,CAACA,MAAMA,CAACA,gBAAgBA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,gBAAgBA,EAAEA,KAAKA,CAACA,CAACA;oBACnEA,GAAGA,CAACA,MAAMA,CAACA,gBAAgBA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,gBAAgBA,EAAEA,KAAKA,CAACA,CAACA;gBACvEA,CAACA;gBAEDA,IAAIA,KAAKA,GAAGA,IAAIA,QAAQA,EAAEA,CAACA;gBAC3BA,KAAKA,CAACA,MAAMA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,CAACA;gBAC5BA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;YACpBA,CAACA;YAiBLH,eAACA;QAADA,CA/CAV,AA+CCU,IAAAV;QA/CYA,WAAQA,WA+CpBA,CAAAA;IACLA,CAACA,EArEYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QAqEdA;AAADA,CAACA,EArEM,KAAK,KAAL,KAAK,QAqEX;ACrED,wCAAwC;AAExC,IAAO,KAAK,CA4EX;AA5ED,WAAO,KAAK;IAACA,IAAAA,EAAEA,CA4EdA;IA5EYA,WAAAA,EAAEA,EAACA,CAACA;QACbC,IAAOA,OAAOA,GAAGA,KAAKA,CAACA,QAAQA,CAACA,OAAOA,CAACA;QACxCA,IAAOA,YAAYA,GAAGA,KAAKA,CAACA,QAAQA,CAACA,YAAYA,CAACA;QAClDA,IAAOA,oBAAoBA,GAAGA,KAAKA,CAACA,WAAWA,CAACA,oBAAoBA,CAACA;QACrEA,IAAOA,UAAUA,GAAGA,KAAKA,CAACA,QAAQA,CAACA,UAAUA,CAACA,UAAUA,CAACA;QAEzDA;YAAuCc,qCAAOA;YAa1CA;gBACIC,iBAAOA,CAACA;gBAJJA,aAAQA,GAAgBA,IAAIA,CAACA;gBAC7BA,YAAOA,GAAeA,IAAIA,CAACA;gBAI/BA,IAAIA,CAACA,eAAeA,GAAGA,iBAAiBA,CAACA;gBACzCA,IAAIA,CAACA,eAAeA,CAACA,iBAAiBA,CAACA,aAAaA,EAAEA,IAAIA,oBAAoBA,EAAkBA,CAACA,CAACA;YACtGA,CAACA;YAESD,iDAAqBA,GAA/BA,UAAgCA,OAAiBA,EAAEA,OAAiBA;gBAChEE,IAAIA,WAAWA,GAAGA,IAAIA,CAACA;gBACvBA,EAAEA,CAACA,CAACA,CAACA,OAAOA,IAAIA,OAAOA,OAAOA,KAAKA,UAAUA,CAACA,CAACA,CAACA;oBAC5CA,WAAWA,GAAGA,KAAKA,CAACA;gBACxBA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,IAAIA,IAAIA,GAAcA,aAAUA,CAACA,EAAEA,CAACA,IAAUA,OAAQA,EAAEA,CAACA,CAACA;oBAC1DA,WAAWA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,IAAIA,CAACA,SAASA,GAAGA,kBAAeA,CAACA,QAAQA,CAACA,KAAKA,CAACA,CAACA;gBAC9EA,CAACA;gBACDA,IAAIA,CAACA,eAAeA,CAACA,iBAAiBA,CAACA,qBAAqBA,EAAEA,CAACA,WAAWA,CAACA,CAACA;YAChFA,CAACA;YAESF,0CAAcA,GAAxBA;gBACIG,MAAMA,CAACA,IAAUA,IAAIA,CAACA,YAAaA,EAAEA,CAACA;YAC1CA,CAACA;YAEDH,2CAAeA,GAAfA;gBACII,gBAAKA,CAACA,eAAeA,WAAEA,CAACA;gBAExBA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA;oBACdA,IAAIA,CAACA,QAAQA,CAACA,YAAYA,CAACA,GAAGA,CAACA,IAAIA,CAACA,eAAeA,EAAEA,IAAIA,CAACA,CAACA;gBAC/DA,IAAIA,CAACA,QAAQA,GAAgBA,IAAIA,CAACA,gBAAgBA,CAACA,aAAaA,EAAEA,cAAWA,CAACA,CAACA;gBAC/EA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA;oBACdA,IAAIA,CAACA,QAAQA,CAACA,YAAYA,CAACA,EAAEA,CAACA,IAAIA,CAACA,eAAeA,EAAEA,IAAIA,CAACA,CAACA;gBAE9DA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;oBACbA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,GAAGA,CAACA,IAAIA,CAACA,QAAQA,EAAEA,IAAIA,CAACA,CAACA;gBAChDA,IAAIA,CAACA,OAAOA,GAAeA,IAAIA,CAACA,gBAAgBA,CAACA,cAAcA,EAAEA,UAAUA,CAACA,CAACA;gBAC7EA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;oBACbA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,EAAEA,CAACA,IAAIA,CAACA,QAAQA,EAAEA,IAAIA,CAACA,CAACA;YACnDA,CAACA;YAEOJ,2CAAeA,GAAvBA,UAAwBA,MAAMA,EAAEA,IAA2BA;gBACvDK,IAAIA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;gBACnBA,IAAIA,CAACA,KAAKA,CAACA,QAAQA,CAACA,IAAIA,CAACA,QAAQA,CAACA,GAAGA,CAACA,UAAAA,IAAIA,IAAIA,OAAAA,IAAIA,iBAAcA,CAACA,IAAIA,CAACA,EAAxBA,CAAwBA,CAACA,CAACA,CAACA;YAC7EA,CAACA;YAEOL,oCAAQA,GAAhBA,UAAiBA,MAAMA,EAAEA,IAAIA;gBACzBM,IAAIA,GAAWA,CAACA;gBAChBA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,SAASA,IAAIA,CAACA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,SAASA,CAACA,QAAQA,EAAEA,CAACA,CAACA,CAACA,CAACA;oBACxDA,OAAOA,CAACA,IAAIA,CAACA,mCAAmCA,CAACA,CAACA;oBAClDA,MAAMA,CAACA;gBACXA,CAACA;gBACDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,aAAaA,EAAEA,EAAEA,EAAEA,CAACA,QAAQA,EAAEA,GAAGA,CAACA;oBACvDA,EAAEA,CAACA,OAAOA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,IAAIA,CAACA,cAAcA,EAAEA,CAACA,CAACA;gBAClDA,CAACA;YACLA,CAACA;YA/DMN,+BAAaA,GAAGA,kBAAkBA,CAACA,gBAAgBA,CAACA,OAAOA,EAAEA,cAAMA,OAAAA,oBAAoBA,EAApBA,CAAoBA,EAAEA,iBAAiBA,CAACA,CAACA;YAC5GA,sCAAoBA,GAAGA,kBAAkBA,CAACA,QAAQA,CAACA,cAAcA,EAAEA,cAAMA,OAAAA,QAAQA,EAARA,CAAQA,EAAEA,iBAAiBA,EAAEA,WAAQA,EAAEA,UAACA,CAAoBA,EAAEA,IAAIA,IAAKA,OAAAA,CAACA,CAACA,qBAAqBA,CAACA,IAAIA,CAACA,QAAQA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,EAArDA,CAAqDA,CAACA,CAACA;YACvMA,uCAAqBA,GAAGA,kBAAkBA,CAACA,gBAAgBA,CAACA,eAAeA,EAAEA,cAAMA,OAAAA,OAAOA,EAAPA,CAAOA,EAAEA,iBAAiBA,EAAEA,KAAKA,CAACA,CAACA;YACtHA,mCAAiBA,GAAGA,kBAAkBA,CAACA,QAAQA,CAACA,WAAWA,EAAEA,cAAMA,OAAAA,SAAGA,EAAHA,CAAGA,EAAEA,iBAAiBA,CAACA,CAACA;YA6DtGA,wBAACA;QAADA,CAjEAd,AAiECc,EAjEsCd,OAAOA,EAiE7CA;QAjEYA,oBAAiBA,oBAiE7BA,CAAAA;QACDA,KAAKA,CAACA,QAAQA,CAACA,aAAaA,CAACA,iBAAiBA,EAC1CA,EAACA,IAAIA,EAAEA,aAAaA,EAAEA,IAAIA,EAAEA,cAAWA,EAACA,EACxCA,EAACA,IAAIA,EAAEA,cAAcA,EAAEA,IAAIA,EAAEA,UAAUA,EAACA,EACxCA,EAACA,IAAIA,EAAEA,eAAeA,EAAEA,IAAIA,EAAEA,YAAYA,EAACA,CAACA,CAACA;IACrDA,CAACA,EA5EYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QA4EdA;AAADA,CAACA,EA5EM,KAAK,KAAL,KAAK,QA4EX;AC9ED,IAAO,KAAK,CA2DX;AA3DD,WAAO,KAAK;IAACA,IAAAA,EAAEA,CA2DdA;IA3DYA,WAAAA,EAAEA,EAACA,CAACA;QACbC,IAAOA,gBAAgBA,GAAGA,KAAKA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA;QAEtDA;YAAoCqB,kCAAgBA;YAQhDA,wBAAYA,IAAUA;gBAClBC,iBAAOA,CAACA;gBANZA,mBAAcA,GAAGA,CAACA,CAACA;gBACnBA,gBAAWA,GAAGA,KAAKA,CAACA;gBACpBA,iBAAYA,GAAGA,EAAEA,CAACA;gBAClBA,gBAAWA,GAAGA,IAAIA,CAACA;gBAIfA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;YACtBA,CAACA;YAEDD,sBAAIA,gCAAIA;qBAARA;oBACIE,MAAMA,CAACA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,GAAGA,CAACA,CAACA;gBAC5CA,CAACA;;;eAAAF;YAEDA,sBAAIA,gCAAIA;qBAARA;oBACIG,MAAMA,CAACA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,GAAGA,EAAEA,CAACA;gBAC7CA,CAACA;;;eAAAH;YAEDA,sBAAIA,gCAAIA;qBAARA;oBACII,MAAMA,CAACA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,GAAGA,EAAEA,CAACA;gBAC7CA,CAACA;;;eAAAJ;YAEDA,+BAAMA,GAANA,UAAOA,GAAWA,EAAEA,QAAmBA;gBACnCK,IAAIA,CAACA,WAAWA,GAAGA,IAAIA,CAACA;gBACxBA,QAAQA,CAACA,SAASA,CAACA,EAAEA,CAACA,IAAIA,CAACA,YAAYA,EAAEA,IAAIA,CAACA,CAACA;gBAC/CA,QAAQA,CAACA,SAASA,CAACA,EAAEA,CAACA,IAAIA,CAACA,YAAYA,EAAEA,IAAIA,CAACA,CAACA;gBAC/CA,QAAQA,CAACA,UAAUA,CAACA,EAAEA,CAACA,IAAIA,CAACA,aAAaA,EAAEA,IAAIA,CAACA,CAACA;gBACjDA,QAAQA,CAACA,MAAMA,CAACA,EAAEA,CAACA,IAAIA,CAACA,SAASA,EAAEA,IAAIA,CAACA,CAACA;gBACzCA,QAAQA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,IAAIA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,CAACA;YAC3DA,CAACA;YAEOL,qCAAYA,GAApBA;gBACIM,IAAIA,CAACA,YAAYA,GAAGA,WAAWA,CAACA;gBAChCA,IAAIA,CAACA,WAAWA,GAAGA,KAAKA,CAACA;YAC7BA,CAACA;YAEON,qCAAYA,GAApBA;gBACIO,IAAIA,CAACA,YAAYA,GAAGA,WAAWA,CAACA;gBAChCA,IAAIA,CAACA,WAAWA,GAAGA,KAAKA,CAACA;YAC7BA,CAACA;YAEOP,sCAAaA,GAArBA,UAAsBA,MAAMA,EAAEA,IAAyBA;gBACnDQ,IAAIA,CAACA,YAAYA,GAAGA,EAAEA,CAACA;gBACvBA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,KAAKA,CAACA;YACnDA,CAACA;YAEOR,kCAASA,GAAjBA,UAAkBA,MAAMA,EAAEA,IAAqBA;gBAC3CS,IAAIA,CAACA,YAAYA,GAAGA,QAAQA,CAACA;gBAC7BA,IAAIA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,KAAKA,CAACA;gBAC9BA,IAAIA,CAACA,WAAWA,GAAGA,KAAKA,CAACA;YAC7BA,CAACA;YACLT,qBAACA;QAADA,CAtDArB,AAsDCqB,EAtDmCrB,gBAAgBA,EAsDnDA;QAtDYA,iBAAcA,iBAsD1BA,CAAAA;QACDA,KAAKA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,cAAcA,EAAEA,CAACA,gBAAgBA,EAAEA,aAAaA,EAAEA,cAAcA,EAAEA,aAAaA,CAACA,CAACA,CAACA;IAClHA,CAACA,EA3DYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QA2DdA;AAADA,CAACA,EA3DM,KAAK,KAAL,KAAK,QA2DX;AC3DD,IAAO,KAAK,CAkBX;AAlBD,WAAO,KAAK;IAACA,IAAAA,EAAEA,CAkBdA;IAlBYA,WAAAA,EAAEA,EAACA,CAACA;QACbC;YAII+B,+BAAYA,QAAgBA,EAAEA,QAAgBA;gBAC1CC,MAAMA,CAACA,gBAAgBA,CAACA,IAAIA,EAAEA;oBAC1BA,UAAUA,EAAEA;wBACRA,KAAKA,EAAEA,QAAQA;wBACfA,QAAQA,EAAEA,KAAKA;qBAClBA;oBACDA,UAAUA,EAAEA;wBACRA,KAAKA,EAAEA,QAAQA;wBACfA,QAAQA,EAAEA,KAAKA;qBAClBA;iBACJA,CAACA,CAAAA;YACNA,CAACA;YACLD,4BAACA;QAADA,CAhBA/B,AAgBC+B,IAAA/B;QAhBYA,wBAAqBA,wBAgBjCA,CAAAA;IACLA,CAACA,EAlBYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QAkBdA;AAADA,CAACA,EAlBM,KAAK,KAAL,KAAK,QAkBX;AClBD,IAAO,KAAK,CA+BX;AA/BD,WAAO,KAAK;IAACA,IAAAA,EAAEA,CA+BdA;IA/BYA,WAAAA,EAAEA,EAACA,CAACA;QACbC,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,EAAEA,CAACA,CAACA;QACzBA,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,EAAEA,CAACA,CAACA;QACzBA,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,EAAEA,CAACA,CAACA;QACzBA,IAAIA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,EAAEA,CAACA,CAACA;QACzBA,IAAIA,SAASA,GAAGA,GAAGA,CAACA;QAEpBA,eAAeA,GAAWA,EAAEA,MAAcA;YACtCiC,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,EAAEA,MAAMA,CAACA,CAACA;YAClCA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,GAAGA,MAAMA,CAACA,GAAGA,MAAMA,CAACA;QAC7CA,CAACA;QAEDjC;YAAAkC;YAiBAC,CAACA;YAhBGD,+BAAOA,GAAPA,UAAQA,KAAUA,EAAEA,UAAiBA,EAAEA,SAAcA,EAAEA,OAAYA;gBAC/DE,IAAIA,KAAaA,CAACA;gBAClBA,EAAEA,CAACA,CAACA,CAACA,KAAKA,GAAGA,KAAKA,GAAGA,EAAEA,CAACA,GAAGA,SAASA,CAACA;oBACjCA,MAAMA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,QAAQA,EAAEA,GAAGA,IAAIA,CAACA;gBAC7CA,EAAEA,CAACA,CAACA,CAACA,KAAKA,GAAGA,KAAKA,GAAGA,EAAEA,CAACA,GAAGA,SAASA,CAACA;oBACjCA,MAAMA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,QAAQA,EAAEA,GAAGA,IAAIA,CAACA;gBAC7CA,EAAEA,CAACA,CAACA,CAACA,KAAKA,GAAGA,KAAKA,GAAGA,EAAEA,CAACA,GAAGA,SAASA,CAACA;oBACjCA,MAAMA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,QAAQA,EAAEA,GAAGA,IAAIA,CAACA;gBAC7CA,EAAEA,CAACA,CAACA,CAACA,KAAKA,GAAGA,KAAKA,GAAGA,EAAEA,CAACA,GAAGA,SAASA,CAACA;oBACjCA,MAAMA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,QAAQA,EAAEA,GAAGA,IAAIA,CAACA;gBAC7CA,MAAMA,CAACA,KAAKA,CAACA;YACjBA,CAACA;YAEDF,mCAAWA,GAAXA,UAAYA,KAAUA,EAAEA,UAAiBA,EAAEA,SAAcA,EAAEA,OAAYA;gBACnEG,MAAMA,CAACA,KAAKA,CAACA;YACjBA,CAACA;YACLH,oBAACA;QAADA,CAjBAlC,AAiBCkC,IAAAlC;QAjBYA,gBAAaA,gBAiBzBA,CAAAA;QACDA,KAAKA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,IAAIA,CAACA,aAAaA,CAACA,CAACA;IACpDA,CAACA,EA/BYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QA+BdA;AAADA,CAACA,EA/BM,KAAK,KAAL,KAAK,QA+BX;AC/BD,IAAO,KAAK,CAaX;AAbD,WAAO,KAAK;IAACA,IAAAA,EAAEA,CAadA;IAbYA,WAAAA,EAAEA,EAACA,CAACA;QACbC;YAGIsC,yBAAYA,KAAUA;gBAClBC,MAAMA,CAACA,gBAAgBA,CAACA,IAAIA,EAAEA;oBAC1BA,OAAOA,EAAEA;wBACLA,KAAKA,EAAEA,KAAKA;wBACZA,QAAQA,EAAEA,KAAKA;qBAClBA;iBACJA,CAACA,CAAAA;YACNA,CAACA;YACLD,sBAACA;QAADA,CAXAtC,AAWCsC,IAAAtC;QAXYA,kBAAeA,kBAW3BA,CAAAA;IACLA,CAACA,EAbYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QAadA;AAADA,CAACA,EAbM,KAAK,KAAL,KAAK,QAaX;ACbD,IAAO,KAAK,CAkBX;AAlBD,WAAO,KAAK;IAACA,IAAAA,EAAEA,CAkBdA;IAlBYA,WAAAA,EAAEA,EAACA,CAACA;QACbC;YAIIwC,6BAAYA,MAAcA,EAAEA,KAAaA;gBACrCC,MAAMA,CAACA,gBAAgBA,CAACA,IAAIA,EAAEA;oBAC1BA,QAAQA,EAAEA;wBACNA,KAAKA,EAAEA,MAAMA;wBACbA,QAAQA,EAAEA,KAAKA;qBAClBA;oBACDA,OAAOA,EAAEA;wBACLA,KAAKA,EAAEA,KAAKA;wBACZA,QAAQA,EAAEA,KAAKA;qBAClBA;iBACJA,CAACA,CAAAA;YACNA,CAACA;YACLD,0BAACA;QAADA,CAhBAxC,AAgBCwC,IAAAxC;QAhBYA,sBAAmBA,sBAgB/BA,CAAAA;IACLA,CAACA,EAlBYD,EAAEA,GAAFA,QAAEA,KAAFA,QAAEA,QAkBdA;AAADA,CAACA,EAlBM,KAAK,KAAL,KAAK,QAkBX","file":"fayde.io.js","sourcesContent":["module Fayde.IO {\r\n    export var version = '0.1.0';\r\n}","module Fayde.IO {\r\n    import ContentControl = Fayde.Controls.ContentControl;\r\n    import ObservableCollection = Fayde.Collections.ObservableCollection;\r\n    import ButtonBase = Fayde.Controls.Primitives.ButtonBase;\r\n\r\n    export class FileControl extends ContentControl {\r\n        static IsMultipleProperty = DependencyProperty.Register(\"IsMultiple\", () => Boolean, FileControl, false, (d: FileControl, args) => d.OnIsMultipleChanged(args.OldValue, args.NewValue));\r\n        static FilterProperty = DependencyProperty.Register(\"Filter\", () => String, FileControl, undefined, (d: FileControl, args) => d.OnFilterChanged(args.OldValue, args.NewValue));\r\n        static FilesProperty = DependencyProperty.RegisterReadOnly(\"Files\", () => ObservableCollection, FileControl);\r\n        IsMultiple: boolean;\r\n        Filter: string;\r\n        Files: ObservableCollection<File>;\r\n\r\n        FilesChanged = new nullstone.Event<FilesChangedEventArgs>();\r\n\r\n        private $element: HTMLInputElement = null;\r\n        private $button: ButtonBase = null;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = FileControl;\r\n            this.SetCurrentValue(FileControl.FilesProperty, new ObservableCollection());\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.$button = <ButtonBase>this.GetTemplateChild(\"BrowseButton\", ButtonBase);\r\n            if (this.$button)\r\n                this.$button.Click.on(this.Open, this);\r\n        }\r\n\r\n        OnIsMultipleChanged(oldValue: boolean, newValue: boolean) {\r\n            var el = this.$element;\r\n            if (el)\r\n                el.multiple = newValue === true;\r\n        }\r\n\r\n        OnFilterChanged(oldValue: string, newValue: string) {\r\n            var el = this.$element;\r\n            if (el) {\r\n                el.accept = newValue || undefined;\r\n            }\r\n        }\r\n\r\n        Open() {\r\n            var el = this.$element;\r\n            if (!el) {\r\n                el = this.$element = createFileInput(this.IsMultiple, this.Filter);\r\n                var _this = this;\r\n                el.addEventListener('change', function () {\r\n                    _this.OnFilesChanged(this.files);\r\n                }, false);\r\n            }\r\n            el.files = null;\r\n            el.click();\r\n        }\r\n\r\n        protected OnFilesChanged(files: FileList) {\r\n            var fs: File[] = [];\r\n            for (var i = 0; i < files.length; i++) {\r\n                fs.push(files[i]);\r\n            }\r\n            var old = this.Files.ToArray();\r\n            this.Files.Clear();\r\n            this.Files.AddRange(fs);\r\n            this.FilesChanged.raise(this, new FilesChangedEventArgs(old, fs));\r\n        }\r\n    }\r\n    Fayde.Controls.TemplateParts(FileControl,\r\n        {Name: \"BrowseButton\", Type: ButtonBase});\r\n\r\n    function createFileInput(isMultiple: boolean, filter: string): HTMLInputElement {\r\n        var el = document.createElement('input');\r\n        el.type = \"file\";\r\n        el.multiple = isMultiple === true;\r\n        el.accept = filter || undefined;\r\n        el.style.opacity = \"0.0\";\r\n        document.body.appendChild(el);\r\n        return el;\r\n    }\r\n}","module Fayde.IO {\r\n    export enum UploadReporting {\r\n        Complete = 1,\r\n        Progress = 2,\r\n        Failed = 4,\r\n        Cancelled = 8\r\n    }\r\n\r\n    export interface IUploader {\r\n        Reporting: UploadReporting;\r\n        Progressed: nullstone.Event<ProgressedEventArgs>;\r\n        Completed: nullstone.Event<any>;\r\n        Failed: nullstone.Event<FailedEventArgs>;\r\n        Cancelled: nullstone.Event<any>;\r\n        Upload(url: string, data: any, filename: string, filetype: string);\r\n    }\r\n    export var IUploader_ = new nullstone.Interface<IUploader>(\"IUploader\");\r\n    IUploader_.is = function (o: any): boolean {\r\n        return o && typeof o.Upload === \"function\";\r\n    };\r\n\r\n    export class Uploader implements IUploader {\r\n        get Reporting(): UploadReporting {\r\n            return UploadReporting.Complete | UploadReporting.Progress | UploadReporting.Failed | UploadReporting.Cancelled;\r\n        }\r\n\r\n        Progressed = new nullstone.Event<ProgressedEventArgs>();\r\n        Completed = new nullstone.Event<any>();\r\n        Failed = new nullstone.Event<FailedEventArgs>();\r\n        Cancelled = new nullstone.Event<any>();\r\n\r\n        private $active: XMLHttpRequest = null;\r\n\r\n        Upload(url: string, data: any, filename: string, filetype: string) {\r\n            if (this.$active)\r\n                throw new Error(\"Uploader can only upload once.\");\r\n            var xhr = this.$active = new XMLHttpRequest();\r\n            xhr.open(\"POST\", url, true);\r\n            xhr.setRequestHeader(\"X-File-Name\", filename);\r\n            xhr.setRequestHeader(\"X-File-Type\", filetype);\r\n\r\n            if (xhr.upload) {\r\n                xhr.upload.addEventListener(\"load\", this._OnUploadComplete, false);\r\n                xhr.upload.addEventListener(\"progress\", this._OnUploadProgress, false);\r\n                xhr.upload.addEventListener(\"error\", this._OnUploadErrored, false);\r\n                xhr.upload.addEventListener(\"abort\", this._OnUploadAborted, false);\r\n            }\r\n\r\n            var fdata = new FormData();\r\n            fdata.append('image', data);\r\n            xhr.send(fdata);\r\n        }\r\n\r\n        private _OnUploadComplete = (ev: Event) => {\r\n            this.Completed.raise(this, {});\r\n        };\r\n\r\n        private _OnUploadProgress = (ev: ProgressEvent) => {\r\n            this.Progressed.raise(this, new ProgressedEventArgs(ev.loaded, ev.total));\r\n        };\r\n\r\n        private _OnUploadErrored = (ev: ErrorEvent) => {\r\n            this.Failed.raise(this, new FailedEventArgs(ev));\r\n        };\r\n\r\n        private _OnUploadAborted = (ev: UIEvent) => {\r\n            this.Cancelled.raise(this, {});\r\n        };\r\n    }\r\n}","/// <reference path=\"upload/Uploader\" />\r\n\r\nmodule Fayde.IO {\r\n    import Control = Fayde.Controls.Control;\r\n    import ItemsControl = Fayde.Controls.ItemsControl;\r\n    import ObservableCollection = Fayde.Collections.ObservableCollection;\r\n    import ButtonBase = Fayde.Controls.Primitives.ButtonBase;\r\n\r\n    export class FileUploadControl extends Control {\r\n        static ItemsProperty = DependencyProperty.RegisterReadOnly(\"Items\", () => ObservableCollection, FileUploadControl);\r\n        static UploaderTypeProperty = DependencyProperty.Register(\"UploaderType\", () => Function, FileUploadControl, Uploader, (d: FileUploadControl, args) => d.OnUploaderTypeChanged(args.OldValue, args.NewValue));\r\n        static HasNoProgressProperty = DependencyProperty.RegisterReadOnly(\"HasNoProgress\", () => Boolean, FileUploadControl, false);\r\n        static UploadUriProperty = DependencyProperty.Register(\"UploadUri\", () => Uri, FileUploadControl);\r\n        Items: ObservableCollection<FileUploadItem>;\r\n        UploaderType: IUploader;\r\n        HasNoProgress: boolean;\r\n        UploadUri: Uri;\r\n\r\n        private $control: FileControl = null;\r\n        private $upload: ButtonBase = null;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = FileUploadControl;\r\n            this.SetCurrentValue(FileUploadControl.ItemsProperty, new ObservableCollection<FileUploadItem>());\r\n        }\r\n\r\n        protected OnUploaderTypeChanged(oldType: Function, newType: Function) {\r\n            var hasProgress = true;\r\n            if (!newType || typeof newType !== \"function\") {\r\n                hasProgress = false;\r\n            } else {\r\n                var test: IUploader = IUploader_.as(new (<any>newType)());\r\n                hasProgress = !!test && (test.Reporting & UploadReporting.Progress) === 0;\r\n            }\r\n            this.SetCurrentValue(FileUploadControl.HasNoProgressProperty, !hasProgress);\r\n        }\r\n\r\n        protected CreateUploader(): IUploader {\r\n            return new (<any>this.UploaderType)();\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n\r\n            if (this.$control)\r\n                this.$control.FilesChanged.off(this._OnFilesChanged, this);\r\n            this.$control = <FileControl>this.GetTemplateChild(\"FileControl\", FileControl);\r\n            if (this.$control)\r\n                this.$control.FilesChanged.on(this._OnFilesChanged, this);\r\n\r\n            if (this.$upload)\r\n                this.$upload.Click.off(this._OnStart, this);\r\n            this.$upload = <ButtonBase>this.GetTemplateChild(\"UploadButton\", ButtonBase);\r\n            if (this.$upload)\r\n                this.$upload.Click.on(this._OnStart, this);\r\n        }\r\n\r\n        private _OnFilesChanged(sender, args: FilesChangedEventArgs) {\r\n            this.Items.Clear();\r\n            this.Items.AddRange(args.NewFiles.map(file => new FileUploadItem(file)));\r\n        }\r\n\r\n        private _OnStart(sender, args) {\r\n            var url: string;\r\n            if (!this.UploadUri || !(url = this.UploadUri.toString())) {\r\n                console.warn(\"Cannot upload with UploadUri set.\");\r\n                return;\r\n            }\r\n            for (var en = this.Items.getEnumerator(); en.moveNext();) {\r\n                en.current.Upload(url, this.CreateUploader());\r\n            }\r\n        }\r\n    }\r\n    Fayde.Controls.TemplateParts(FileUploadControl,\r\n        {Name: \"FileControl\", Type: FileControl},\r\n        {Name: \"UploadButton\", Type: ButtonBase},\r\n        {Name: \"ItemsProgress\", Type: ItemsControl});\r\n}","module Fayde.IO {\r\n    import ObservableObject = Fayde.MVVM.ObservableObject;\r\n\r\n    export class FileUploadItem extends ObservableObject {\r\n        private $file: File;\r\n\r\n        UploadProgress = 0;\r\n        IsUploading = false;\r\n        UploadStatus = \"\";\r\n        UploadError = null;\r\n\r\n        constructor(file: File) {\r\n            super();\r\n            this.$file = file;\r\n        }\r\n\r\n        get Size(): number {\r\n            return this.$file ? this.$file.size : 0;\r\n        }\r\n\r\n        get Name(): string {\r\n            return this.$file ? this.$file.name : \"\";\r\n        }\r\n\r\n        get Type(): string {\r\n            return this.$file ? this.$file.type : \"\";\r\n        }\r\n\r\n        Upload(url: string, uploader: IUploader) {\r\n            this.IsUploading = true;\r\n            uploader.Cancelled.on(this._OnCancelled, this);\r\n            uploader.Completed.on(this._OnCompleted, this);\r\n            uploader.Progressed.on(this._OnProgressed, this);\r\n            uploader.Failed.on(this._OnFailed, this);\r\n            uploader.Upload(url, this.$file, this.Name, this.Type);\r\n        }\r\n\r\n        private _OnCancelled() {\r\n            this.UploadStatus = \"Cancelled\";\r\n            this.IsUploading = false;\r\n        }\r\n\r\n        private _OnCompleted() {\r\n            this.UploadStatus = \"Completed\";\r\n            this.IsUploading = false;\r\n        }\r\n\r\n        private _OnProgressed(sender, args: ProgressedEventArgs) {\r\n            this.UploadStatus = \"\";\r\n            this.UploadProgress = args.Loaded / args.Total;\r\n        }\r\n\r\n        private _OnFailed(sender, args: FailedEventArgs) {\r\n            this.UploadStatus = \"Failed\";\r\n            this.UploadError = args.Error;\r\n            this.IsUploading = false;\r\n        }\r\n    }\r\n    Fayde.MVVM.NotifyProperties(FileUploadItem, [\"UploadProgress\", \"IsUploading\", \"UploadStatus\", \"UploadError\"]);\r\n}","module Fayde.IO {\r\n    export class FilesChangedEventArgs implements nullstone.IEventArgs {\r\n        OldFiles: File[];\r\n        NewFiles: File[];\r\n\r\n        constructor(oldFiles: File[], newFiles: File[]) {\r\n            Object.defineProperties(this, {\r\n                \"OldFiles\": {\r\n                    value: oldFiles,\r\n                    writable: false\r\n                },\r\n                \"NewFiles\": {\r\n                    value: newFiles,\r\n                    writable: false\r\n                }\r\n            })\r\n        }\r\n    }\r\n}","module Fayde.IO {\r\n    var TB = Math.pow(2, 40);\r\n    var GB = Math.pow(2, 30);\r\n    var MB = Math.pow(2, 20);\r\n    var KB = Math.pow(2, 10);\r\n    var threshold = 0.9;\r\n\r\n    function round(val: number, digits: number) {\r\n        var factor = Math.pow(10, digits);\r\n        return Math.round(val * factor) / factor;\r\n    }\r\n\r\n    export class SizeConverter implements Fayde.Data.IValueConverter {\r\n        Convert(value: any, targetType: IType, parameter: any, culture: any): any {\r\n            var short: number;\r\n            if ((short = value / TB) > threshold)\r\n                return round(short, 2).toString() + \"TB\";\r\n            if ((short = value / GB) > threshold)\r\n                return round(short, 2).toString() + \"GB\";\r\n            if ((short = value / MB) > threshold)\r\n                return round(short, 2).toString() + \"MB\";\r\n            if ((short = value / KB) > threshold)\r\n                return round(short, 2).toString() + \"KB\";\r\n            return value;\r\n        }\r\n\r\n        ConvertBack(value: any, targetType: IType, parameter: any, culture: any): any {\r\n            return value;\r\n        }\r\n    }\r\n    Fayde.Data.IValueConverter_.mark(SizeConverter);\r\n}","module Fayde.IO {\r\n    export class FailedEventArgs implements nullstone.IEventArgs {\r\n        Error: any;\r\n\r\n        constructor(error: any) {\r\n            Object.defineProperties(this, {\r\n                \"Error\": {\r\n                    value: error,\r\n                    writable: false\r\n                }\r\n            })\r\n        }\r\n    }\r\n}","module Fayde.IO {\r\n    export class ProgressedEventArgs implements nullstone.IEventArgs {\r\n        Loaded: number;\r\n        Total: number;\r\n\r\n        constructor(loaded: number, total: number) {\r\n            Object.defineProperties(this, {\r\n                \"Loaded\": {\r\n                    value: loaded,\r\n                    writable: false\r\n                },\r\n                \"Total\": {\r\n                    value: total,\r\n                    writable: false\r\n                }\r\n            })\r\n        }\r\n    }\r\n}"],"sourceRoot":"/source/"}